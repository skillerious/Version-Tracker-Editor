<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <title>Version Tracker - Skillerious</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self';
                 style-src 'self';
                 img-src 'self' data:;
                 connect-src 'self' https://api.github.com https://skillerious.github.io;
                 font-src 'self';
                 object-src 'none';
                 base-uri 'none'">
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-update-app="versiontrackereditor">
  <!-- Titlebar -->
  <div id="titlebar" class="drag">
    <div class="tb-left">
      <img class="tb-icon" src="assets/logo.ico" alt="" />
      <div class="tb-brand">
        <span class="brand-title">Version Tracker</span>
        <span class="brand-sub">By Skillerious</span>
      </div>
    </div>
    <div class="tb-center">
      <span id="repoLabel" class="tb-repo muted">skillerious/Version-Tracker@main</span>
    </div>
    <div class="tb-right no-drag">
      <button id="btnUpdate" class="tb-btn tb-btn-update" data-state="available" title="Update available" aria-label="Update available">
        <svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <circle cx="12" cy="12" r="7.5" fill="none"></circle>
          <path d="M12 7v7.5" fill="none"></path>
          <path d="M8.75 11.75 12 15l3.25-3.25" fill="none"></path>
          <path d="M8.5 17h7" fill="none"></path>
        </svg>
        <span class="update-badge" aria-hidden="true"></span>
      </button>
      <button id="winMin" class="tb-btn tb-btn-min" title="Minimize" aria-label="Minimize"><span aria-hidden="true"></span></button>
      <button id="winMax" class="tb-btn tb-btn-max" title="Maximize" aria-label="Maximize"><span aria-hidden="true"></span></button>
      <button id="winClose" class="tb-btn tb-btn-close" title="Close" aria-label="Close"><span aria-hidden="true"></span></button>
    </div>
  </div>

  <!-- Toolbar -->
  <header id="toolbar" role="toolbar" aria-label="Main toolbar">
    <div class="tool-left">
      <button id="btnFetch" title="Fetch (F5)"><img src="assets/ic-refresh.svg" alt="" /></button>
      <button id="btnCommit" title="Commit (Ctrl+S)"><img src="assets/ic-git-commit.svg" alt="" /></button>
      <span class="sep"></span>
      <button id="btnOpenLocal" title="Open local"><img src="assets/ic-folder-open.svg" alt="" /></button>
      <button id="btnSaveLocal" title="Save local"><img src="assets/ic-save.svg" alt="" /></button>
      <span class="sep"></span>
      <button id="btnOnboarding" title="Getting started"><img src="assets/ic-shield-check.svg" alt="" /></button>
      <button id="btnToken" title="GitHub Token"><img src="assets/ic-settings.svg" alt="" /></button>
      <button id="btnAbout" title="About"><img src="assets/ic-about.svg" alt="" /></button>
    </div>
    <div class="tool-center">
      <div class="toolbar-meta">
        <div id="breadcrumbs" class="bc-wrap">
          <div id="bcTrack" class="bc-track" role="navigation" aria-label="Breadcrumbs"></div>
        </div>
      </div>
    </div>
    <div class="tool-right"></div>
  </header>

  <div id="toastStack" class="toast-stack" aria-live="polite" aria-atomic="false"></div>

  <!-- Activity Bar -->
  <nav id="activity">
    <div class="activity-top">
      <button data-tab="tab-editor" title="Editor"><img src="assets/ic-identity.svg" alt="Editor"></button>
      <button data-tab="tab-wizard" title="Create new application"><img src="assets/ic-create.svg" alt="Create new application"></button>
      <button data-tab="tab-preview" title="Preview"><img src="assets/ic-files.svg" alt="Preview"></button>
      <button data-tab="tab-calendar" title="Calendar"><img src="assets/ic-calendar.svg" alt="Calendar"></button>
    </div>
    <div class="activity-bottom">
      <button data-tab="tab-settings" title="Settings"><img src="assets/ic-settings.svg" alt="Settings"></button>
    </div>
  </nav>

  <!-- Workbench -->
  <div id="workbench">
    <aside id="sidebar" aria-label="Applications">
      <div class="side-head">
        <div class="side-title">Applications</div>
        <div class="side-sub">repoversion.json</div>
      </div>

      <ul id="appsList" class="list"></ul>

      <div class="side-actions">
        <button id="btnAddApp"><img src="assets/ic-identity.svg" alt=""/>Add</button>
        <button id="btnDupApp"><img src="assets/ic-files.svg" alt=""/>Duplicate</button>
        <button id="btnDelApp" class="danger"><img src="assets/ic-beta.svg" alt=""/>Delete</button>
      </div>

      <div class="side-footer">
        <button id="shaBadge" class="side-sha" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="shaPopover" aria-label="No manifest SHA yet">
          <span class="sha-badge-label">SHA</span>
          <span id="shaBadgeValue" class="sha-badge-value">--</span>
          <span class="sha-badge-icon" aria-hidden="true">i</span>
        </button>
        <div id="shaPopover" class="sha-popover" role="status" aria-hidden="true" hidden>
          <div class="sha-popover-title">Current manifest SHA</div>
          <code id="shaPopoverValue" class="sha-popover-code">--</code>
          <p class="sha-popover-hint">Updates after a fetch or commit.</p>
        </div>
      </div>
      <div id="sidebar-resize-handle" title="Resize"></div>
    </aside>

    <section id="content">
      <!-- Editor Tab -->
      <div id="tab-editor" class="tabpage active">
        <div id="editorTabBar" class="editor-tabbar">
          <button class="editor-tab active" data-section="section-dataset" id="editorTabDataset">Dataset</button>
          <button class="editor-tab" data-section="section-app" id="editorTabApp">App details</button>
          <button class="editor-tab" data-section="section-stable" id="editorTabStable">Stable track</button>
          <button class="editor-tab" data-section="section-beta" id="editorTabBeta">Beta track</button>
          <button class="editor-tab" data-section="section-history" id="editorTabHistory">History</button>
          <div id="selectedAppPill" class="editor-selected-pill pill pill-dim" role="status" aria-live="polite">No app selected</div>
        </div>

        <div id="editorSections">
          <section id="section-dataset" class="editor-section active" aria-labelledby="editorTabDataset">
            <div class="notice notice-info" data-icon="E">
              <strong>Editing workspace</strong>
              <p>Use the controls below to manage dataset metadata, release tracks, and history entries. All edits stay local until you fetch or commit.</p>
            </div>
            <div class="card">
              <div class="card-title">Dataset</div>
              <div class="grid grid-2">
                <label class="field"><span>Contact</span><input id="edContact" type="text" placeholder="Contact info for manifest" /></label>
                <label class="field"><span>Generated</span><input id="edGenerated" type="text" disabled /></label>
              </div>
            </div>
          </section>

          <section id="section-app" class="editor-section" aria-labelledby="editorTabApp">
            <div class="card">
              <div class="card-title">App details</div>
              <div class="grid grid-2">
                <label class="field">
                  <span>App ID</span>
                  <div class="row">
                    <input id="edAppId" type="text" placeholder="e.g. target-tracker" />
                    <button id="btnAutoId" class="ghost">Auto</button>
                    <div id="pillId" class="pill pill-dim">-</div>
                  </div>
                </label>
                <label class="field"><span>Name</span><input id="edAppName" type="text" placeholder="Display name (defaults to ID)" /></label>
              </div>
            </div>
          </section>

          <section id="section-stable" class="editor-section" aria-labelledby="editorTabStable">
            <div class="card">
              <div class="card-title">Stable Track</div>
              <div class="grid grid-3">
                <label class="field"><span>Version</span>
                  <div class="row">
                    <input id="stVersion" type="text" placeholder="e.g. 2.6.2" />
                    <select id="stBumpKind"><option>patch</option><option>minor</option><option>major</option></select>
                    <button id="stBumpBtn" class="ghost">Suggest</button>
                    <div id="pillStVer" class="pill pill-dim">-</div>
                  </div>
                </label>
                <label class="field"><span>Code</span><input id="stCode" type="number" min="0" step="1" value="0" /></label>
                <label class="field"><span>Date</span><input id="stDate" type="date" /></label>
              </div>
              <div class="grid grid-2">
                <label class="field"><span>URL</span><input id="stUrl" type="url" placeholder="https://release.example" /></label>
                <label class="field"><span>Download</span><input id="stDownload" type="url" placeholder="https://asset.example" /></label>
              </div>
              <label class="field"><span>Notes - Markdown Compatible</span><textarea id="stNotes" rows="4" placeholder="Short notes"></textarea></label>
              <div class="row gap">
                <button id="stCodePlus" class="ghost">Bump code +1</button>
                <button id="stCodeSuggest" class="ghost">Suggest code from history</button>
              </div>
            </div>
          </section>

          <section id="section-beta" class="editor-section" aria-labelledby="editorTabBeta">
            <div class="card">
              <div class="card-title">Beta Track <label class="switch"><input id="betaEnabled" type="checkbox" checked><span></span></label></div>
              <div id="betaBlock">
                <div class="grid grid-3">
                  <label class="field"><span>Version</span>
                    <div class="row beta-version-row">
                      <input id="btVersion" type="text" placeholder="optional" />
                      <select id="btBumpKind"><option>patch</option><option>minor</option><option>major</option></select>
                      <button id="btBumpBtn" class="ghost">Suggest</button>
                      <div id="pillBtVer" class="pill pill-dim">-</div>
                    </div>
                  </label>
                  <label class="field"><span>Code</span><input id="btCode" type="number" min="0" step="1" value="0" /></label>
                  <label class="field"><span>Date</span><input id="btDate" type="date" /></label>
                </div>
                <div class="grid grid-2">
                  <label class="field"><span>URL</span><input id="btUrl" type="url" placeholder="https://beta.example" /></label>
                  <label class="field"><span>Download</span><input id="btDownload" type="url" placeholder="https://download.example" /></label>
                </div>
                <label class="field"><span>Notes - Markdown Compatible</span><textarea id="btNotes" rows="4" placeholder="Optional notes"></textarea></label>
                <div class="row gap">
                  <button id="btCodePlus" class="ghost">Bump code +1</button>
                  <button id="btCodeSuggest" class="ghost">Suggest code from history</button>
                </div>
              </div>
              <div class="row gap">
                <button id="btnPromote" class="ghost">Promote Beta -> Stable</button>
                <button id="btnClone" class="ghost">Clone Stable -> Beta</button>
              </div>
            </div>
          </section>

          <section id="section-history" class="editor-section" aria-labelledby="editorTabHistory">
            <div class="card">
              <div class="card-title">History</div>
              <div class="table-wrap">
                <table id="historyTable" aria-label="History table">
                  <thead><tr><th>Version</th><th>Code</th><th>Date</th><th>URL</th><th></th></tr></thead>
                  <tbody></tbody>
                </table>
              </div>
              <div class="row gap history-actions">
                <button id="btnHistAdd" class="ghost"><img src="assets/ic-create.svg" alt=""/>Add entry</button>
                <button id="btnHistRemove" class="ghost danger"><img src="assets/ic-beta.svg" alt=""/>Remove selected</button>
              </div>
            </div>
          </section>
        </div>

        <div id="editorActions" class="editor-actions">
          <button id="btnApply" class="ok"><img src="assets/ic-stable.svg" alt=""/>Apply changes</button>
          <button id="btnReset"><img src="assets/ic-refresh.svg" alt=""/>Reset form</button>
        </div>
      </div>

      <!-- Wizard Tab -->
      <div id="tab-wizard" class="tabpage">
        <div class="notice notice-success" data-icon="W">
          <strong>Quick start wizard</strong>
          <p>Follow the guided steps to scaffold a new application. Required fields are checked before you can finish, and the preview refreshes on every step.</p>
        </div>
        <div class="card">
          <div class="card-title">Wizard</div>
          <p class="card-subtitle">Identity fields feed into release tracks, and the final review lets you copy or tweak the generated manifest before applying it.</p>
          <div class="wizard">
            <ol class="steps">
              <li class="step active" data-step="1"><span class="bubble">1</span> Identity</li>
              <li class="step" data-step="2"><span class="bubble">2</span> Tracks</li>
              <li class="step" data-step="3"><span class="bubble">3</span> Review</li>
            </ol>
            <div id="wizardStatus" class="notice notice-muted" data-icon="W" hidden></div>
            <div class="wiz-body">
              <div class="wiz-page" data-page="1">
                <div class="grid grid-2">
                  <label class="field"><span>App Name</span><input id="wzName" type="text"></label>
                  <label class="field"><span>App ID</span><div class="row"><input id="wzId" type="text"><button id="wzAuto" class="ghost">Auto</button></div></label>
                </div>
              </div>
              <div class="wiz-page" data-page="2" hidden>
                <div class="grid grid-3">
                  <label class="field"><span>Stable version</span><input id="wzStVer" type="text" placeholder="1.2.3"></label>
                  <label class="field"><span>Stable code</span><input id="wzStCode" type="number" min="0" step="1" value="0"></label>
                  <label class="field"><span>Stable date</span><input id="wzStDate" type="date"></label>
                </div>
                <div class="grid grid-2">
                  <label class="field"><span>Stable URL</span><input id="wzStUrl" type="url"></label>
                  <label class="field"><span>Stable download</span><input id="wzStDl" type="url"></label>
                </div>
              </div>
              <div class="wiz-page" data-page="3" hidden>
                  <div class="row gap">
                    <button id="wzLoadCurrent" class="ghost">Load From Selection</button>
                    <button id="wzReset" class="ghost">Reset Wizard</button>
                  </div>
                <textarea id="wzPreview" rows="18" class="codeblock" readonly></textarea>
              </div>
            </div>
            <div class="wiz-footer row end gap">
              <button id="wzBack" disabled>< Back</button>
              <button id="wzNext">Next ></button>
              <button id="wzFinish" class="ok" hidden>Finish & Apply</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Preview Tab -->
      <div id="tab-preview" class="tabpage">
        <div class="notice notice-warn" data-icon="P">
          <strong>Manifest preview</strong>
          <p>Generate JSON on demand, copy or download it for review, and validate URLs before pushing upstream.</p>
        </div>
        <div class="card">
          <div class="card-title">Preview</div>
          <p class="card-subtitle">The preview reflects unsaved edits from the editor tab. Use these actions to export or validate the manifest snapshot.</p>
          <div class="row gap">
            <button id="btnCopyJson">Copy JSON</button>
            <button id="btnSaveJson">Save JSON...</button>
            <button id="btnValidate">Validate URLs</button>
          </div>
          <textarea id="previewBox" class="codeblock" rows="24" placeholder="JSON preview will appear here..." readonly></textarea>
        </div>
      </div>

      <!-- Calendar Tab -->
      <div id="tab-calendar" class="tabpage">
        <div class="card calendar-hero">
          <div class="card-title">Release Calendar</div>
          <p class="card-subtitle">Visualise upcoming, recent, and aging releases to spot priorities across every product at a glance.</p>
          <div class="calendar-summary">
            <div class="calendar-summary-item summary-upcoming">
              <span class="summary-label">Upcoming</span>
              <strong id="calendarUpcomingCount" class="summary-value">0</strong>
              <span class="summary-hint">Next 14 days</span>
            </div>
            <div class="calendar-summary-item summary-recent">
              <span class="summary-label">Recent</span>
              <strong id="calendarRecentCount" class="summary-value">0</strong>
              <span class="summary-hint">Past 14 days</span>
            </div>
            <div class="calendar-summary-item summary-stale">
              <span class="summary-label">Stale</span>
              <strong id="calendarStaleCount" class="summary-value">0</strong>
              <span class="summary-hint">Older than 60 days</span>
            </div>
            <div class="calendar-summary-item summary-undated">
              <span class="summary-label">Undated</span>
              <strong id="calendarUndatedCount" class="summary-value">0</strong>
              <span class="summary-hint">Missing target date</span>
            </div>
          </div>
          <div class="calendar-controls">
            <div class="calendar-controls-main">
              <div id="calendarViewToggle" class="calendar-view-toggle" role="group" aria-label="Timeline view">
                <button type="button" data-view="all" class="active">All</button>
                <button type="button" data-view="upcoming">Upcoming</button>
                <button type="button" data-view="recent">Recent</button>
                <button type="button" data-view="stale">Stale</button>
              </div>
              <div class="calendar-filter-group" role="group" aria-label="Release types">
                <label class="calendar-filter"><input id="calendarFilterStable" type="checkbox" data-filter="stable" checked>Stable</label>
                <label class="calendar-filter"><input id="calendarFilterBeta" type="checkbox" data-filter="beta" checked>Beta</label>
                <label class="calendar-filter"><input id="calendarFilterHistory" type="checkbox" data-filter="history">History</label>
                <label class="calendar-toggle"><input id="calendarIncludeUndated" type="checkbox" checked>Include undated</label>
              </div>
            </div>
            <div class="calendar-controls-side">
              <label class="calendar-search" for="calendarSearch">
                <span class="sr-only">Search releases</span>
                <input id="calendarSearch" type="search" placeholder="Search apps, versions, notes..." autocomplete="off">
              </label>
              <button id="calendarResetFilters" type="button" class="ghost subtle calendar-reset-btn">Reset</button>
            </div>
          </div>
        </div>
        <div class="card calendar-highlights-card">
          <div class="calendar-highlights-header">
            <h3>Highlights</h3>
          </div>
          <div class="calendar-highlights-grid">
            <div class="calendar-highlight highlight-next">
              <span class="highlight-label">Next release</span>
              <strong id="calendarNextRelease" class="highlight-value">--</strong>
              <span id="calendarNextReleaseMeta" class="highlight-meta muted">No upcoming releases scheduled.</span>
            </div>
            <div class="calendar-highlight highlight-recent">
              <span class="highlight-label">Latest shipped</span>
              <strong id="calendarRecentRelease" class="highlight-value">--</strong>
              <span id="calendarRecentReleaseMeta" class="highlight-meta muted">No recent releases recorded.</span>
            </div>
            <div class="calendar-highlight highlight-stale">
              <span class="highlight-label">Oldest stale</span>
              <strong id="calendarOldestStale" class="highlight-value">--</strong>
              <span id="calendarOldestStaleMeta" class="highlight-meta muted">All tracks look healthy.</span>
            </div>
            <div class="calendar-highlight highlight-undated">
              <span class="highlight-label">Undated tracks</span>
              <strong id="calendarUndatedSummary" class="highlight-value">0</strong>
              <span id="calendarUndatedSummaryMeta" class="highlight-meta muted">Add target dates to track progress.</span>
            </div>
          </div>
        </div>
        <div class="calendar-section-header">
          <h3>Timeline</h3>
          <p>Entries combine live track data with release history; filter to focus on the work that matters most.</p>
        </div>
        <div class="card calendar-timeline-card">
          <div class="calendar-legend">
            <span class="legend-item legend-upcoming">Upcoming</span>
            <span class="legend-item legend-recent">Recent</span>
            <span class="legend-item legend-stale">Stale</span>
            <span class="legend-item legend-undated">Undated</span>
          </div>
          <div id="calendarTimeline" class="calendar-timeline" role="list"></div>
          <div id="calendarEmpty" class="calendar-empty muted" role="status" hidden>No releases match your filters. Adjust the view or add track dates to populate the calendar.</div>
        </div>
      </div>

      <!-- Settings Tab -->
      <div id="tab-settings" class="tabpage">
        <div class="notice notice-muted tips-optional">
          <strong class="notice-heading"><img src="assets/infinate.svg" alt="" class="settings-inline-icon" aria-hidden="true" role="presentation">Workspace settings</strong>
          <p>Configure repository access, token storage, automation, and appearance so the editor fits your release workflow.</p>
        </div>

        <div class="settings-layout">
          <div class="settings-column">
            <div class="card settings-card settings-card-overview">
              <div class="card-title">Connection overview</div>
              <p class="card-subtitle tips-optional">Snapshot of the GitHub workspace Version Tracker will read and publish to.</p>
              <div class="settings-overview-grid">
                <div class="overview-tile">
                  <span class="overview-label">Repository</span>
                  <strong id="settingsSummaryRepo">--</strong>
                  <span id="settingsSummaryRepoMeta" class="overview-meta tips-optional">Owner &amp; repository</span>
                </div>
                <div class="overview-tile">
                  <span class="overview-label">Branch</span>
                  <strong id="settingsSummaryBranch">--</strong>
                  <span class="overview-meta tips-optional">Default publication branch</span>
                </div>
                <div class="overview-tile">
                  <span class="overview-label">Manifest path</span>
                  <strong id="settingsSummaryPath">--</strong>
                  <span class="overview-meta tips-optional">JSON tracked by this editor</span>
                </div>
                <div class="overview-tile">
                  <span class="overview-label">Token</span>
                  <span class="status-chip" id="settingsTokenBadge" data-state="warn">No token stored</span>
                  <span id="settingsTokenSource" class="overview-meta tips-optional">Store a token to enable commits.</span>
                </div>
                <div class="overview-tile">
                  <span class="overview-label">Verification</span>
                  <strong id="settingsSummaryVerified">Not verified</strong>
                  <span id="settingsSummaryVerifiedMeta" class="overview-meta tips-optional">Run verification to confirm scopes.</span>
                </div>
                <div class="overview-tile">
                  <span class="overview-label">Manifest SHA</span>
                  <strong id="settingsSummarySha">--</strong>
                  <span class="overview-meta tips-optional">Short hash of the last fetched manifest</span>
                </div>
              </div>
              <div class="settings-overview-actions">
                <button id="settingsRefresh" class="ghost subtle">Refresh status</button>
                <button id="settingsOpenRepo" class="ghost">Open repository</button>
              </div>
            </div>

            <div class="card settings-card">
              <div class="card-title">GitHub workspace</div>
              <p class="card-subtitle tips-optional">Update the repository target used when fetching and committing <code>repoversion.json</code>.</p>
              <div class="settings-section">
                <h4 class="settings-section-title">Repository target</h4>
                <div class="settings-grid">
                  <label class="field"><span>Owner</span><input id="cfgOwner" type="text" value="skillerious"></label>
                  <label class="field"><span>Repo</span><input id="cfgRepo" type="text" value="Version-Tracker"></label>
                  <label class="field"><span>Branch</span><input id="cfgBranch" type="text" value="main"></label>
                  <label class="field"><span>Manifest path</span><input id="cfgPath" type="text" value="repoversion.json"></label>
                </div>
              </div>
              <div class="settings-section tips-optional">
                <div class="notice notice-info" data-icon="i">
                  <strong>Token requirements</strong>
                  <p>Tokens should include <strong>Contents: read/write</strong>. After updating credentials, use <em>Verify token</em> to confirm scopes and satisfy any SSO prompts.</p>
                </div>
              </div>
              <div class="settings-actions">
                <button id="btnCfgApply" class="ok">Apply repo settings</button>
              </div>
            </div>

            <div class="card settings-card">
              <div class="card-title">Token &amp; access</div>
              <p class="card-subtitle tips-optional">Monitor stored credentials and the scopes GitHub reported during the last verification.</p>
              <div class="settings-status-row">
                <span class="status-chip" id="settingsTokenStatus" data-state="warn">No token stored</span>
                <span id="settingsTokenStatusMeta" class="muted tips-optional">Ready to connect once a token is stored.</span>
              </div>
              <div class="settings-grid settings-grid-compact">
                <div class="settings-tile">
                  <span class="settings-tile-label">Stored via</span>
                  <strong id="settingsTokenStoredVia">--</strong>
                  <span id="settingsTokenStoredMeta" class="settings-tile-meta tips-optional">Secure storage location</span>
                </div>
                <div class="settings-tile">
                  <span class="settings-tile-label">Account</span>
                  <strong id="settingsTokenAccount">--</strong>
                  <span id="settingsTokenAccountMeta" class="settings-tile-meta tips-optional">Name &amp; type</span>
                </div>
                <div class="settings-tile">
                  <span class="settings-tile-label">Last verified</span>
                  <strong id="settingsTokenVerified">Never</strong>
                  <span id="settingsTokenVerifiedMeta" class="settings-tile-meta tips-optional">Run verification to refresh details</span>
                </div>
              </div>
              <div class="settings-token-scopes">
                <span class="settings-tile-label tips-optional">Scopes</span>
                <div id="settingsTokenScopes" class="settings-token-scopes-list">None reported</div>
              </div>
              <div class="settings-actions">
                <div class="settings-actions-right">
                  <button id="btnTokenSettings">Set tokenâ€¦</button>
                  <button id="btnTokenVerify" class="ghost">Verify token</button>
                  <button id="settingsViewTokenDocs" class="ghost subtle">Token docs</button>
                </div>
              </div>
            </div>
          </div>

          <div class="settings-column secondary">
            <div class="card settings-card">
              <div class="card-title">Workspace preferences</div>
              <p class="card-subtitle tips-optional">Tailor automation and UI behaviour to match how you publish releases.</p>
              <div class="settings-toggle-list">
                <button type="button" class="settings-toggle" data-pref="autoFetchOnLaunch" aria-pressed="false">
                  <span class="toggle-indicator" aria-hidden="true"></span>
                  <span class="toggle-label">
                    <strong>Auto fetch on launch</strong>
                    <span class="toggle-meta tips-optional">Grab the latest manifest as soon as the app opens.</span>
                  </span>
                  <span class="settings-toggle-state" aria-hidden="true">Off</span>
                </button>
                <button type="button" class="settings-toggle" data-pref="confirmBeforeCommit" aria-pressed="false">
                  <span class="toggle-indicator" aria-hidden="true"></span>
                  <span class="toggle-label">
                    <strong>Confirm before committing</strong>
                    <span class="toggle-meta tips-optional">Show a quick confirmation before pushing changes to GitHub.</span>
                  </span>
                  <span class="settings-toggle-state" aria-hidden="true">Off</span>
                </button>
                <button type="button" class="settings-toggle" data-pref="compactDensity" aria-pressed="false">
                  <span class="toggle-indicator" aria-hidden="true"></span>
                  <span class="toggle-label">
                    <strong>Compact density</strong>
                    <span class="toggle-meta tips-optional">Reduce padding in lists and tables for large manifests.</span>
                  </span>
                  <span class="settings-toggle-state" aria-hidden="true">Off</span>
                </button>
                <button type="button" class="settings-toggle" data-pref="showHelperTips" aria-pressed="false">
                  <span class="toggle-indicator" aria-hidden="true"></span>
                  <span class="toggle-label">
                    <strong>Show helper tips</strong>
                    <span class="toggle-meta tips-optional">Display onboarding notices and contextual hints.</span>
                  </span>
                  <span class="settings-toggle-state" aria-hidden="true">Off</span>
                </button>
              </div>
            </div>

            <div class="card settings-card">
              <div class="card-title">Workspace storage</div>
              <p class="card-subtitle tips-optional">Review where manifests and metadata are stored on disk.</p>
              <div class="settings-paths">
                <div class="settings-path-row">
                  <div class="settings-path-info">
                    <span class="path-label">Workspace folder</span>
                    <code id="settingsPathWorkspace">--</code>
                  </div>
                  <div class="settings-path-actions">
                    <button type="button" class="ghost subtle" data-copy-path="settingsPathWorkspace">Copy</button>
                    <button type="button" class="ghost subtle" id="settingsOpenWorkspace">Open</button>
                  </div>
                </div>
                <div class="settings-path-row">
                  <div class="settings-path-info">
                    <span class="path-label">Settings JSON</span>
                    <code id="settingsPathSettings">--</code>
                  </div>
                  <div class="settings-path-actions">
                    <button type="button" class="ghost subtle" data-copy-path="settingsPathSettings">Copy</button>
                  </div>
                </div>
                <div class="settings-path-row">
                  <div class="settings-path-info">
                    <span class="path-label">Token metadata</span>
                    <code id="settingsPathToken">--</code>
                  </div>
                  <div class="settings-path-actions">
                    <button type="button" class="ghost subtle" data-copy-path="settingsPathToken">Copy</button>
                  </div>
                </div>
                <div class="settings-path-row">
                  <div class="settings-path-info">
                    <span class="path-label">Electron store</span>
                    <code id="settingsPathStore">--</code>
                  </div>
                  <div class="settings-path-actions">
                    <button type="button" class="ghost subtle" data-copy-path="settingsPathStore">Copy</button>
                  </div>
                </div>
              </div>
              <div class="settings-actions">
                <button id="settingsEnsureWorkspace" class="ghost">Prepare workspace</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Status bar -->
  <footer id="statusbar" role="status">
    <div class="sb-left">
      <span id="dirtyDot" class="dot"></span>
      <span id="sbText">Ready.</span>
    </div>
    <div class="sb-right">
      <span id="sbHelp" class="muted">F5: Fetch | Ctrl+S: Commit</span>
    </div>
  </footer>

  <!-- Token dialog -->
  <dialog id="tokenDialog" class="dialog-card token-card">
    <div class="token-header">
      <div class="token-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="presentation" focusable="false">
          <path d="M12 2a4.5 4.5 0 0 0-4.5 4.5V9H6.5A2.5 2.5 0 0 0 4 11.5v7A2.5 2.5 0 0 0 6.5 21h11a2.5 2.5 0 0 0 2.5-2.5v-7A2.5 2.5 0 0 0 17.5 9H16.5V6.5A4.5 4.5 0 0 0 12 2Zm0 2a2.5 2.5 0 0 1 2.5 2.5V9h-5V6.5A2.5 2.5 0 0 1 12 4Zm0 7a1.75 1.75 0 0 1 .75 3.33V17a.75.75 0 0 1-1.5 0v-2.67A1.75 1.75 0 0 1 12 11Z"></path>
        </svg>
      </div>
      <div class="token-title">
        <h3>GitHub Token</h3>
        <p class="token-subtitle">Paste a fine-grained personal access token with <strong>Contents: read/write</strong> so Version Tracker can commit on your behalf.</p>
      </div>
    </div>
    <div class="token-body">
      <ul class="token-points">
        <li><span class="point-index" aria-hidden="true">1</span>Generate a token via <strong>GitHub &gt; Settings &gt; Developer settings</strong>.</li>
        <li><span class="point-index" aria-hidden="true">2</span>Allow access to this repository or its organization with repository contents scope.</li>
        <li><span class="point-index" aria-hidden="true">3</span>Paste and store it securely below.</li>
      </ul>
      <div class="field token-field">
        <label for="tokenInput">Personal access token</label>
        <div class="token-input">
          <input id="tokenInput" type="password" placeholder="ghp_xxxxx..." autocomplete="off" spellcheck="false" />
          <button type="button" id="tokenReveal" class="token-toggle" aria-label="Show token" aria-pressed="false">
            <span class="toggle-show">Show</span>
            <span class="toggle-hide">Hide</span>
          </button>
        </div>
      </div>
      <div class="token-hint">
        <span class="hint-badge">Secure storage</span>
        <p>Tokens stay encrypted and never leave this device. Regenerate a new token immediately if it ever leaks.</p>
      </div>
      <a id="tokenDocsLink" class="token-docs" href="https://github.com/settings/tokens" target="_blank" rel="noopener">Open GitHub token settings</a>
    </div>
    <div class="token-actions">
      <button id="tokenCancel" class="ghost" type="button">Cancel</button>
      <div class="token-actions-right">
        <button id="tokenVerifyButton" class="ghost subtle" type="button">Verify stored token</button>
        <button id="tokenSave" class="ok" type="button">Save token</button>
      </div>
    </div>
  </dialog>

  <!-- Token verification dialog -->
  <dialog id="tokenVerifyDialog" class="dialog-card token-verify-card" aria-labelledby="tokenVerifyTitle">
    <div class="verify-header">
      <div class="verify-icon" id="tokenVerifyIcon" aria-hidden="true"></div>
      <div class="verify-header-text">
        <h3 id="tokenVerifyTitle">Verify Stored Token</h3>
        <p id="tokenVerifyStatus" class="verify-status">Ready to check your GitHub credentials.</p>
      </div>
    </div>
    <div class="verify-body">
      <div id="tokenVerifyLoading" class="verify-loading">
        <div class="verify-spinner" aria-hidden="true"></div>
        <p>Contacting GitHub&hellip;</p>
      </div>
      <div id="tokenVerifyMessage" class="verify-message" hidden></div>
      <ul id="tokenVerifyDetails" class="verify-details" hidden></ul>
    </div>
    <div class="token-actions">
      <button id="tokenVerifyClose" class="ghost" type="button">Close</button>
      <div class="token-actions-right">
        <button id="tokenVerifyOpenGh" class="ghost subtle" type="button">Manage tokens on GitHub</button>
      </div>
    </div>
  </dialog>

  <!-- Onboarding dialog -->
  <dialog id="onboardingDialog" class="onboarding-card" aria-labelledby="onboardingTitle">
    <header class="onboarding-header">
      <div class="onboarding-heading">
        <div class="onboarding-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" role="presentation" focusable="false">
            <path d="M12 3a9 9 0 1 0 9 9 9 9 0 0 0-9-9Zm0 2a7 7 0 1 1-7 7 7 7 0 0 1 7-7Zm0 2.75a1 1 0 0 0-1 1v4a1 1 0 0 0 .55.89l3 1.5a1 1 0 1 0 .9-1.78L13 11.82V8.75a1 1 0 0 0-1-1Z"></path>
          </svg>
        </div>
        <div class="onboarding-title">
          <h3 id="onboardingTitle">Welcome to Version Tracker</h3>
          <p class="onboarding-subtitle">Follow these four steps to connect GitHub, verify access, and prepare your local workspace.</p>
        </div>
      </div>
      <div class="onboarding-progress">
        <span class="pill" id="onboardProgressPill">Step 1 of 4</span>
        <span id="onboardProgressLabel">Repository target</span>
      </div>
    </header>
    <div class="onboarding-shell onboarding-body">
      <nav class="onboarding-nav" role="tablist" aria-label="Onboarding steps">
        <button type="button" role="tab" aria-controls="onboardPanelRepo" aria-selected="true" data-step="repo" data-state="pending" data-index="1" data-title="Repository target" data-helper="Owner / repo / branch" data-current="1">
          <span class="nav-label"><strong>Repository</strong><span>Owner / repo / branch</span></span>
          <span class="nav-badge" aria-hidden="true"><span class="nav-badge-icon">+</span></span>
          <span class="nav-state sr-only">Repository step: Pending setup</span>
        </button>
        <button type="button" role="tab" aria-controls="onboardPanelToken" aria-selected="false" data-step="token" data-state="pending" data-index="2" data-title="Store a token" data-helper="Secure PAT storage" data-current="0">
          <span class="nav-label"><strong>Token</strong><span>Secure PAT storage</span></span>
          <span class="nav-badge" aria-hidden="true"><span class="nav-badge-icon">+</span></span>
          <span class="nav-state sr-only">Token step: Token not stored</span>
        </button>
        <button type="button" role="tab" aria-controls="onboardPanelVerify" aria-selected="false" data-step="verify" data-state="pending" data-index="3" data-title="Verify access" data-helper="Scopes &amp; account" data-current="0">
          <span class="nav-label"><strong>Verify</strong><span>Scopes &amp; account</span></span>
          <span class="nav-badge" aria-hidden="true"><span class="nav-badge-icon">+</span></span>
          <span class="nav-state sr-only">Verify step: Not checked</span>
        </button>
        <button type="button" role="tab" aria-controls="onboardPanelData" aria-selected="false" data-step="data" data-state="pending" data-index="4" data-title="Workspace storage" data-helper="AppData setup" data-current="0">
          <span class="nav-label"><strong>Workspace</strong><span>AppData setup</span></span>
          <span class="nav-badge" aria-hidden="true"><span class="nav-badge-icon">+</span></span>
          <span class="nav-state sr-only">Workspace step: Workspace not prepared</span>
        </button>
      </nav>
      <section class="onboarding-panel" id="onboardPanelRepo" role="tabpanel" data-step="repo" aria-labelledby="onboardPanelRepoTitle" tabindex="0" aria-hidden="false">
        <div class="panel-top">
          <span class="status-pill" id="onboardRepoStatus">Pending</span>
          <div class="panel-headline">
            <h4 id="onboardPanelRepoTitle">Configure repository target</h4>
            <p class="panel-meta" id="onboardRepoSummary">Set the owner, repository, branch, and manifest path this editor manages.</p>
          </div>
        </div>
        <div class="panel-grid" id="onboardRepoGrid"></div>
        <div class="panel-callout">
          <strong>Tip</strong>
          <p>Version Tracker commits a single manifest file. Update the Settings tab whenever you need to point at a different repository, branch, or JSON path.</p>
        </div>
        <div class="panel-actions">
          <button id="onboardOpenSettings" type="button" class="ghost">Open settings tab</button>
        </div>
      </section>
      <section class="onboarding-panel" id="onboardPanelToken" role="tabpanel" data-step="token" aria-labelledby="onboardPanelTokenTitle" hidden aria-hidden="true" tabindex="-1">
        <div class="panel-top">
          <span class="status-pill" id="onboardTokenStatus">Pending</span>
          <div class="panel-headline">
            <h4 id="onboardPanelTokenTitle">Store a GitHub token</h4>
            <p class="panel-meta" id="onboardTokenSummary">Generate a fine-grained personal access token with Contents: read/write scope.</p>
          </div>
        </div>
        <div class="panel-callout" id="onboardTokenCallout">
          <strong>Secure storage</strong>
          <p>Tokens are encrypted locally. Replace the token immediately if it becomes compromised.</p>
        </div>
        <div class="panel-grid" id="onboardTokenGrid"></div>
        <div class="panel-actions">
          <button id="onboardOpenToken" type="button" class="ghost">Open token dialog</button>
          <button id="onboardTokenDocs" type="button" class="ghost subtle">GitHub token docs</button>
        </div>
      </section>
      <section class="onboarding-panel" id="onboardPanelVerify" role="tabpanel" data-step="verify" aria-labelledby="onboardPanelVerifyTitle" hidden aria-hidden="true" tabindex="-1">
        <div class="panel-top">
          <span class="status-pill" id="onboardVerifyStatus">Pending</span>
          <div class="panel-headline">
            <h4 id="onboardPanelVerifyTitle">Verify GitHub access</h4>
            <p class="panel-meta" id="onboardVerifySummary">Check that GitHub recognizes your token and required repository scopes.</p>
          </div>
        </div>
        <div class="panel-callout" id="onboardVerifyCallout">
          <strong>Latest check</strong>
          <p>Status updates will appear here after you run verification.</p>
        </div>
        <div class="panel-grid" id="onboardVerifyDetails"></div>
        <div class="panel-actions">
          <button id="onboardVerifyToken" type="button" class="ghost">Run verification</button>
        </div>
      </section>
      <section class="onboarding-panel" id="onboardPanelData" role="tabpanel" data-step="data" aria-labelledby="onboardPanelDataTitle" hidden aria-hidden="true" tabindex="-1">
        <div class="panel-top">
          <span class="status-pill" id="onboardDataStatus">Pending</span>
          <div class="panel-headline">
            <h4 id="onboardPanelDataTitle">Prepare workspace storage</h4>
            <p class="panel-meta" id="onboardDataSummary">Create the AppData folder and baseline files that keep settings and token metadata safe.</p>
          </div>
        </div>
        <div class="panel-callout" id="onboardDataCallout">
          <strong>Workspace folder</strong>
          <p>We keep settings alongside token metadata under your AppData directory so Version Tracker can resume exactly where you left off.</p>
        </div>
        <div class="panel-grid" id="onboardDataPaths"></div>
        <div class="panel-actions">
          <button id="onboardEnsureData" type="button" class="ghost">Create workspace folder</button>
          <button id="onboardOpenDataDir" type="button" class="ghost subtle">Open workspace folder</button>
        </div>
      </section>
    </div>
  <footer class="onboarding-footer">
      <div class="onboarding-footer-left">
        <div id="onboardFooterHint">Complete each step to finish setup.</div>
        <label class="onboarding-footer-skip">
          <input id="onboardSkipStartup" type="checkbox" />
          <span>Do not show on startup</span>
        </label>
      </div>
      <div class="onboarding-footer-right">
        <button id="onboardRefresh" type="button" class="ghost subtle">Refresh status</button>
        <button id="onboardClose" type="button" class="ghost">Close</button>
        <button id="onboardFinish" type="button" class="ok">Start editing</button>
      </div>
    </footer>
  </dialog>

  <!-- Application update dialog -->
  <dialog id="updateDialog" class="dialog-card update-dialog" aria-labelledby="updateDialogTitle" aria-describedby="updateDialogLead">
    <header id="updateDialogHeader" class="update-header" data-state="available">
      <div class="update-header-visual" aria-hidden="true">
        <span class="update-visual update-visual-ring"></span>
        <span class="update-visual update-visual-orb"></span>
        <span class="update-visual update-visual-grid"></span>
      </div>
      <div class="update-header-icon" aria-hidden="true">
        <svg class="update-icon update-icon-available" viewBox="0 0 48 48" role="presentation" focusable="false">
          <circle cx="24" cy="24" r="16" stroke="currentColor" stroke-width="2" fill="none" opacity=".35"></circle>
          <path d="M24 12v16" stroke="currentColor" stroke-width="2.8" stroke-linecap="round"></path>
          <path d="M17.5 24.5 24 31l6.5-6.5" stroke="currentColor" stroke-width="2.8" stroke-linecap="round" stroke-linejoin="round"></path>
          <path d="M17 35h14" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" opacity=".75"></path>
        </svg>
        <svg class="update-icon update-icon-current" viewBox="0 0 48 48" role="presentation" focusable="false">
          <circle cx="24" cy="24" r="16" stroke="currentColor" stroke-width="2.4" fill="none" opacity=".35"></circle>
          <path d="M16.5 25.5 21.5 30l10-11" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        <svg class="update-icon update-icon-error" viewBox="0 0 48 48" role="presentation" focusable="false">
          <circle cx="24" cy="24" r="16" stroke="currentColor" stroke-width="2.6" fill="none" opacity=".35"></circle>
          <path d="M24 17v11" stroke="currentColor" stroke-width="3" stroke-linecap="round"></path>
          <circle cx="24" cy="32" r="1.6" fill="currentColor"></circle>
        </svg>
        <div class="update-icon update-icon-checking">
          <span class="update-icon-orbit"></span>
          <span class="update-icon-dot"></span>
        </div>
      </div>
      <div class="update-header-copy">
        <span class="update-status-chip" data-state="available" id="updateDialogStatus">Update available</span>
        <h3 id="updateDialogTitle">A fresh build is ready</h3>
        <p id="updateDialogLead">Download the latest Version Tracker release to get new features and fixes.</p>
      </div>
    </header>
    <div class="update-progress" id="updateProgress" role="status" aria-live="polite">
      <div class="update-progress-track" aria-hidden="true">
        <div class="update-progress-bar"></div>
      </div>
      <span class="update-progress-label" id="updateProgressLabel">Checking for updates...</span>
    </div>
    <div class="update-body">
      <section class="update-section">
        <h4>Version overview</h4>
        <div class="update-grid">
          <div class="update-tile">
            <span class="update-tile-label">Current version</span>
            <strong id="updateCurrentVersion">v1.0.0</strong>
            <span class="update-tile-meta" id="updateCurrentMeta">Installed locally</span>
          </div>
          <div class="update-tile is-accent">
            <span class="update-tile-label">Available version</span>
            <strong id="updateAvailableVersion">v1.2.0</strong>
            <span class="update-tile-meta" id="updateAvailableMeta">Released 3 days ago</span>
          </div>
        </div>
      </section>
      <section class="update-section">
        <h4>Release highlights</h4>
        <div class="update-notes" id="updateReleaseNotes" aria-live="polite">
          <p class="update-notes-intro">We'll pull in release notes once an update check runs.</p>
        </div>
      </section>
    </div>
    <footer class="update-footer">
      <div class="update-footer-left">
        <button type="button" class="ghost subtle" id="updateSkip">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="9" cy="9" r="6.4"></circle>
              <path d="M9 5.2v4.2l2.5 1.5"></path>
            </svg>
          </span>
          <span class="btn-label">Remind me later</span>
        </button>
        <button type="button" class="ghost subtle" id="updateCheck">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4.6 4.1A5.5 5.5 0 1 1 3.7 12" opacity=".85"></path>
              <path d="M3.2 3.2h3.2v3.2"></path>
            </svg>
          </span>
          <span class="btn-label">Check again</span>
        </button>
      </div>
      <div class="update-footer-right">
        <button type="button" class="ghost" id="updateViewRelease">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7.2 4.2H5.5A2.3 2.3 0 0 0 3.2 6.5v6c0 1.3 1 2.3 2.3 2.3h6c1.3 0 2.3-1 2.3-2.3v-1.7"></path>
              <path d="M10.4 3.2h4.4v4.4"></path>
              <path d="M8.1 9.5L14.8 2.8"></path>
            </svg>
          </span>
          <span class="btn-label">View release page</span>
        </button>
        <button type="button" class="ok" id="updateDownload">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 3.2v7.8"></path>
              <path d="M6.1 7.8 9 10.8l2.9-3"></path>
              <path d="M4 12.8h10" opacity=".85"></path>
            </svg>
          </span>
          <span class="btn-label">Download update</span>
        </button>
      </div>
    </footer>
  </dialog>


  <!-- Commit confirmation dialog -->
  <dialog id="commitConfirmDialog" class="dialog-card commit-dialog" aria-labelledby="commitConfirmTitle" aria-describedby="commitConfirmLead">
    <div class="commit-header">
      <div class="commit-header-icon" aria-hidden="true">
        <svg viewBox="0 0 28 28" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="14" cy="14" r="10.5" opacity=".35"></circle>
          <path d="M9.8 14.2 13.1 17.4 18.4 10.6"></path>
        </svg>
      </div>
      <div class="commit-header-copy">
        <h3 id="commitConfirmTitle">Ready to commit?</h3>
        <p id="commitConfirmLead">Review the target details before publishing your manifest to GitHub.</p>
      </div>
      <button type="button" class="commit-close" id="commitConfirmClose" aria-label="Cancel commit">
        <span aria-hidden="true"></span>
      </button>
    </div>
    <div class="commit-body">
      <div class="commit-summary">
        <div class="commit-summary-row">
          <span class="commit-summary-label">Target</span>
          <span class="commit-summary-value" id="commitConfirmTarget">owner/repo@branch</span>
        </div>
        <div class="commit-summary-row">
          <span class="commit-summary-label">Repository</span>
          <span class="commit-summary-value" id="commitConfirmRepo">owner/repo</span>
        </div>
        <div class="commit-summary-row">
          <span class="commit-summary-label">Branch</span>
          <span class="commit-summary-value" id="commitConfirmBranch">main</span>
        </div>
        <div class="commit-summary-row">
          <span class="commit-summary-label">Apps tracked</span>
          <span class="commit-summary-value" id="commitConfirmApps">0 apps</span>
        </div>
        <div class="commit-summary-row">
          <span class="commit-summary-label">Current SHA</span>
          <span class="commit-summary-value" id="commitConfirmSha">--</span>
        </div>
      </div>
      <p class="commit-tip">Ensure the dataset reflects the changes you intend to publish. You can disable this prompt below if you prefer one-click commits.</p>
    </div>
    <footer class="commit-footer">
      <label class="commit-remember">
        <input type="checkbox" id="commitConfirmAsk" checked />
        <span>Ask before committing</span>
      </label>
      <div class="commit-actions">
        <button type="button" class="ghost" id="commitConfirmCancel">Cancel</button>
        <button type="button" class="ok" id="commitConfirmApprove">Commit now</button>
      </div>
    </footer>
  </dialog>

  <!-- Exit confirmation dialog -->
  <dialog id="exitConfirmDialog" class="dialog-card exit-dialog" aria-labelledby="exitConfirmTitle" aria-describedby="exitConfirmLead">
    <div class="exit-layout">
      <section class="exit-illustration" aria-hidden="true">
        <div class="exit-icon">
          <svg viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="9" r="5"></circle>
            <circle cx="21" cy="23" r="5"></circle>
            <path d="M11 14v4a6 6 0 0 0 6 6h4"></path>
          </svg>
        </div>
        <div class="exit-illustration-copy">
          <span class="exit-chip">Pending commit</span>
          <p>Manifest updates are still local. Publish them before you leave to keep the repository in sync.</p>
        </div>
      </section>
      <section class="exit-body">
        <header class="exit-header">
          <h3 id="exitConfirmTitle">You still have uncommitted changes</h3>
          <p id="exitConfirmLead">Commit your updates now or quit without publishing them to the repository.</p>
        </header>
        <div class="exit-summary" role="presentation">
          <div class="exit-summary-item">
            <span class="exit-summary-label">Repository</span>
            <span class="exit-summary-value" id="exitSummaryRepo">owner/repo</span>
          </div>
          <div class="exit-summary-item">
            <span class="exit-summary-label">Branch</span>
            <span class="exit-summary-value" id="exitSummaryBranch">main</span>
          </div>
          <div class="exit-summary-item">
            <span class="exit-summary-label">Changes</span>
            <span class="exit-summary-value" id="exitSummaryChanges">Manifest edits pending commit</span>
          </div>
          <div class="exit-summary-item">
            <span class="exit-summary-label">Last commit</span>
            <span class="exit-summary-value" id="exitSummarySha">--</span>
          </div>
        </div>
        <div class="exit-actions">
          <button type="button" class="ok" id="exitCommitAndQuit">Commit and exit</button>
          <button type="button" class="ghost danger" id="exitQuitWithoutCommit">Quit without committing</button>
          <button type="button" class="ghost" id="exitStay">Stay in editor</button>
        </div>
      </section>
    </div>
  </dialog>

  <!-- About dialog -->
  <dialog id="aboutDialog" class="dialog-card">
    <div class="about-layout">
      <section class="about-pane about-pane-summary">
        <div class="about-header">
          <img src="assets/icon.ico" alt="" class="about-icon" />
          <div>
            <div class="about-title-row">
              <h3 id="aboutAppTitle">Version Tracker</h3>
              <span id="aboutVersionBadge" class="about-badge">v1.0.0</span>
            </div>
            <p id="aboutTagline" class="about-tagline">Loading application details...</p>
          </div>
        </div>
        <div class="about-column about-summary-column">
          <h4>Application</h4>
          <ul class="about-list">
            <li>
              <strong>Edition</strong>
              <span id="aboutEdition">Desktop (Electron)</span>
            </li>
            <li>
              <strong>Version</strong>
              <span id="aboutVersionText">1.0.0</span>
            </li>
            <li>
              <strong>Author</strong>
              <span id="aboutAuthor">Robin Doak</span>
            </li>
            <li>
              <strong>Data directory</strong>
              <span id="aboutDataDir" class="about-mono">Loading...</span>
              <button id="aboutOpenData" type="button" class="link-button">Reveal in Explorer</button>
            </li>
          </ul>
        </div>
      </section>
      <section class="about-pane about-pane-details">
        <div class="about-columns">
          <div class="about-column">
            <h4>Environment</h4>
            <ul class="about-list">
              <li>
                <strong>Electron</strong>
                <span id="aboutElectronVersion">n/a</span>
              </li>
              <li>
                <strong>Chromium</strong>
                <span id="aboutChromiumVersion">n/a</span>
              </li>
              <li>
                <strong>Node.js</strong>
                <span id="aboutNodeVersion">n/a</span>
              </li>
              <li>
                <strong>V8</strong>
                <span id="aboutV8Version">n/a</span>
              </li>
              <li>
                <strong>Platform</strong>
                <span id="aboutPlatform">n/a</span>
              </li>
            </ul>
          </div>
          <div class="about-column">
            <h4>Resources</h4>
            <ul class="about-list">
              <li>
                <strong>Repository</strong>
                <a id="aboutRepoLink" href="#" class="about-anchor">Open on GitHub</a>
              </li>
              <li>
                <strong>Issues</strong>
                <a id="aboutIssuesLink" href="#" class="about-anchor">Report a problem</a>
              </li>
              <li>
                <strong>Releases</strong>
                <a id="aboutReleasesLink" href="#" class="about-anchor">Latest updates</a>
              </li>
              <li>
                <strong>Homepage</strong>
                <a id="aboutHomepageLink" href="#" class="about-anchor">Open website</a>
              </li>
            </ul>
          </div>
        </div>
      </section>
    </div>
    <div class="dialog-footer">
      <span id="aboutCopyStatus" class="about-copy-status" role="status" aria-live="polite"></span>
      <div class="dialog-footer-actions">
        <button id="aboutCopyDetails" type="button" class="ghost">Copy details</button>
        <button id="aboutClose" type="button" class="ok">Close</button>
      </div>
    </div>
  </dialog>

  <div id="appContextMenu" class="ctx-menu ctx-menu-root" role="menu" aria-hidden="true" tabindex="-1">
    <div class="ctx-menu-group">
      <button type="button" class="ctx-item" data-action="open" role="menuitem">Open</button>
      <button type="button" class="ctx-item" data-action="open-wizard" role="menuitem">Load into wizard</button>
    </div>
    <div class="ctx-divider"></div>
    <div class="ctx-menu-group">
      <button type="button" class="ctx-item" data-action="duplicate" role="menuitem">Duplicate...</button>
      <button type="button" class="ctx-item danger" data-action="delete" role="menuitem">Delete...</button>
    </div>
    <div class="ctx-divider"></div>
    <div class="ctx-submenu" data-submenu="copy">
      <button type="button" class="ctx-item has-submenu" data-submenu-trigger="copy" role="menuitem" aria-haspopup="true" aria-expanded="false">
        <span>Copy</span>
        <span class="ctx-caret" aria-hidden="true">&gt;</span>
      </button>
      <div class="ctx-menu ctx-menu-nested" data-menu="copy" role="menu" aria-hidden="true">
        <button type="button" class="ctx-item" data-action="copy-id" role="menuitem">App ID</button>
        <button type="button" class="ctx-item" data-action="copy-name" role="menuitem">App name</button>
        <button type="button" class="ctx-item" data-action="copy-stable-version" role="menuitem">Stable version</button>
        <button type="button" class="ctx-item" data-action="copy-stable-url" role="menuitem">Stable URL</button>
        <button type="button" class="ctx-item" data-action="copy-json" role="menuitem">JSON snippet</button>
        <button type="button" class="ctx-item" data-action="copy-history-summary" role="menuitem">Latest history summary</button>
      </div>
    </div>
    <div class="ctx-submenu" data-submenu="tracks">
      <button type="button" class="ctx-item has-submenu" data-submenu-trigger="tracks" role="menuitem" aria-haspopup="true" aria-expanded="false">
        <span>Tracks</span>
        <span class="ctx-caret" aria-hidden="true">&gt;</span>
      </button>
      <div class="ctx-menu ctx-menu-nested" data-menu="tracks" role="menu" aria-hidden="true">
        <button type="button" class="ctx-item" data-action="promote-beta" role="menuitem">Promote beta -> stable</button>
        <button type="button" class="ctx-item" data-action="clone-stable" role="menuitem">Clone stable -> beta</button>
        <button type="button" class="ctx-item" data-action="toggle-beta" role="menuitem">Enable beta track</button>
        <div class="ctx-divider"></div>
        <button type="button" class="ctx-item" data-action="suggest-beta-version" role="menuitem">Suggest beta version</button>
        <button type="button" class="ctx-item" data-action="suggest-beta-code" role="menuitem">Suggest beta code</button>
        <button type="button" class="ctx-item" data-action="apply-form-to-app" role="menuitem">Apply pending changes</button>
      </div>
    </div>
    <div class="ctx-submenu" data-submenu="history">
      <button type="button" class="ctx-item has-submenu" data-submenu-trigger="history" role="menuitem" aria-haspopup="true" aria-expanded="false">
        <span>History</span>
        <span class="ctx-caret" aria-hidden="true">&gt;</span>
      </button>
      <div class="ctx-menu ctx-menu-nested" data-menu="history" role="menu" aria-hidden="true">
        <button type="button" class="ctx-item" data-action="history-add-suggested" role="menuitem">Add suggested entry</button>
        <button type="button" class="ctx-item" data-action="history-run-diagnostics" role="menuitem">Run diagnostics</button>
        <button type="button" class="ctx-item" data-action="history-copy-count" role="menuitem">Copy entry count</button>
        <div class="ctx-divider"></div>
        <button type="button" class="ctx-item" data-action="history-highlight-latest" role="menuitem">Highlight latest row</button>
      </div>
    </div>
    <div class="ctx-divider"></div>
    <div class="ctx-menu-group">
      <button type="button" class="ctx-item" data-action="open-calendar" role="menuitem">Open in calendar</button>
      <button type="button" class="ctx-item" data-action="preview-app" role="menuitem">Refresh preview JSON</button>
    </div>
  </div>

  <script src="renderer.js" defer></script>
</body>
</html>







